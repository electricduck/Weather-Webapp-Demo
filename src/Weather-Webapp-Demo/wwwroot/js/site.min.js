$(document).ready(function(){var i=new Vue({el:"#app",data:{initialView:!0,isReady:!1,locationNotFoundError:!1,requestedLocation:null,resultsView:!1,forecast:{day0:[],day1:[],day2:[],day3:[],day4:[]},weather:{cloudCover:0,desc:null,humidity:null,icon:null,location:null,pressure:null,sun:{rise:0,set:0},temp:{actual:{celcius:0,fahrenheit:0,kelvin:0},high:{celcius:0,fahrenheit:0,kelvin:0},low:{celcius:0,fahrenheit:0,kelvin:0}},type:null,visibility:null,wind:{direction:null,speed:0}}},methods:{convertDegreeToDirection:function(n){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][Math.round(n/22.5+.5%16)]},convertKelvinToCelcius:function(n){return(n-273.15).toFixed(1)},convertKelvinToFahrenheit:function(n){return(n*1.8-459.67).toFixed(1)},convertUnixTimestampToShorthandDate:function(n){var t=new Date(n*1e3),i=t.getDate(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()+1];return i+" "+r},convertUnixTimestampToTime:function(n,t){var i=new Date(n*1e3),r=i.getHours(),u="0"+i.getMinutes(),f="0"+i.getSeconds(),e=null;return t?r+":"+u.substr(-2):r+":"+u.substr(-2)+":"+f.substr(-2)},getFutureWeather:function(){var n=this;$.get("/api/future/city/"+this.requestedLocation,function(t){n.forecast.day0=t.list.slice(0,8);n.forecast.day1=t.list.slice(9,16);n.forecast.day2=t.list.slice(17,24);n.forecast.day3=t.list.slice(25,32);n.forecast.day4=t.list.slice(33,40)})},getWeather:function(){var n=this;$.get("/api/current/city/"+this.requestedLocation,function(t){n.weather.cloudCover=t.clouds.all;n.weather.desc=t.weather[0].description;n.weather.humidity=t.main.humidity;n.weather.icon=n.getWeatherIcon(t.weather[0]);n.weather.pressure=t.main.pressure;n.weather.type=t.weather[0].main;n.weather.update=n.convertUnixTimestampToTime(t.dt);n.weather.visibility=t.visibility;n.weather.sun.rise=n.convertUnixTimestampToTime(t.sys.sunrise);n.weather.sun.set=n.convertUnixTimestampToTime(t.sys.sunset);n.weather.temp.actual.celcius=n.convertKelvinToCelcius(t.main.temp);n.weather.temp.actual.fahrenheit=n.convertKelvinToFahrenheit(t.main.temp);n.weather.temp.actual.kelvin=t.main.temp;n.weather.temp.high.celcius=n.convertKelvinToCelcius(t.main.temp_max);n.weather.temp.high.fahrenheit=n.convertKelvinToFahrenheit(t.main.temp_min);n.weather.temp.high.kelvin=t.main.temp_max;n.weather.temp.low.celcius=n.convertKelvinToCelcius(t.main.temp_min);n.weather.temp.low.fahrenheit=n.convertKelvinToFahrenheit(t.main.temp_min);n.weather.temp.low.kelvin=t.main.temp_min;n.weather.wind.direction=n.convertDegreeToDirection(t.wind.deg);n.weather.wind.speed=t.wind.speed;n.weather.location=t.sys.country?t.name+", "+t.sys.country:t.name;n.getFutureWeather();n.initialView=!1;n.resultsView=!0}).fail(function(){n.locationNotFoundError=!0})},getWeatherIcon:function(i){return i.id<900?t[i.icon]:n[i.id]},resetUi:function(){this.requestedLocation="";this.initialView=!0;this.resultsView=!1;history.pushState(null,"Weather","/")}},mounted:function(){this.isReady=!0}}),n={"900":"wi-tornado","901":"wi-storm-showers","902":"wi-hurricane","903":"wi-snowflake-cold","904":"wi-hot","905":"wi-windy","906":"wi-hail"},t={"01d":"wi-day-sunny","01n":"wi-night-clear","02d":"wi-day-cloudy","02n":"wi-night-alt-cloudy","03d":"wi-cloud","03n":"wi-cloud","04d":"wi-cloudy","04n":"wi-cloudy","09d":"wi-showers","09n":"wi-night-alt-showers","10d":"wi-day-rain","10n":"wi-night-alt-rain","13d":"wi-day-thunderstorm","13n":"wi-night-thunderstorm","50d":"wi-day-fog","50n":"wi-night-fog"}});